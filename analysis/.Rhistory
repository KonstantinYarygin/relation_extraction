getwd()
a <- read.table('documents/projects/python/ebola')
View(a)
a$V1
as.character.Date(a$V1)
a$V1 <- as.character.Date(a$V1)
plot(a$V1, a$V2)
a$V1 <- as.character.Date(a$V1, format= "%d.%m.%Y")
plot(a$V1, a$V2)
a$V1
a <- read.table('documents/projects/python/ebola')
a$V1 <- as.Date(a$V1, format= "%d.%m.%Y")
a$V1
colnames(a) <- c('date', 'sick', 'death')
a
plot(date ~ sick, a)
plot(sick ~ date, a)
a$ln.sick <- ln(a$sick)
log(10)
log(3)
a$ln.sick <- log(a$sick)
a
plot(ln.sick ~ date, a)
plot(sick ~ date, a)
plot(ln.sick ~ date, a)
write.table('documents/projects/python/ebola-new', sep='\t')
write.table(a, 'documents/projects/python/ebola-new', sep='\t')
v1 <- 1:50
v2 <- 60:100
v3 <- c(v1, v2)
print(v3)
v1 <- 1:50
v1[v1 > 34]
v1[TRUE]
v1[c(TRUE, FALSE)]
v1 /2
v1 % 2
v1 // 2
a <- v1 / 2
a <- v1  > 10
a <- v1  > 10
a
a <- v1 < 40
a <- v1  > 10
b <- v1 < 40
a
b
a & b
a && b
a <- c(12,14,23,25)
b <- c(F,F,T,T)
c <- list(a,b)
c
c[1]
c[[1]]
c[2]
title: "exploratory_analysis"
output: html_document
source('~/.active-rstudio-document', echo=TRUE)
plot(1:20, 20:40)
plot(1:20, 21:40)
plot(1:20, 21:40)
setwd('/home/konstantin/documents/projects/python/text_mining/relation_extraction/analysis')
rm(list=ls())
bacteria <- read.table('bacteria.csv', sep='\t', header=F)
colnames(bacteria) <- c('bacterium', 'count')
nutrients <- read.table('nutrients.csv', sep='\t', header=F)
colnames(nutrients) <- c('nutrient', 'count')
diseases <- read.table('diseases.csv', sep='\t', header=F)
colnames(diseases) <- c('disease', 'count')
bacteria_nutrients_pairs <- read.table('bacteria_nutrients_pairs.csv', sep='\t', header=F)
colnames(bacteria_nutrients_pairs) <- c('bacterium', 'nutrient', 'count')
nutrients_diseases_pairs <- read.table('nutrients_diseases_pairs.csv', sep='\t', header=F)
colnames(nutrients_diseases_pairs) <- c('nutrient', 'disease', 'count')
diseases_bacteria_pairs <- read.table('diseases_bacteria_pairs.csv', sep='\t', header=F)
colnames(diseases_bacteria_pairs) <- c('disease', 'bacterium', 'count')
head(bacteria, 10)
head(nutrients, 10)
head(diseases, 10)
head(bacteria_nutrients_pairs, 10)
head(nutrients_diseases_pairs, 10)
head(diseases_bacteria_pairs, 10)
library(reshape)
library(gplots)
library(RColorBrewer)
cols.gentleman <- function(ncol=500) {
hmcol <- colorRampPalette(brewer.pal(10, 'RdBu'))(ncol)
return(rev(hmcol))
}
ccc <- cast(diseases_bacteria_pairs, bacterium~disease, fill=0)
rownames(ccc) <- ccc$bacterium
ccc$bacterium <- NULL
ccc <- ccc[apply(ccc, 1, sum) > 100, apply(ccc, 2, sum) > 100]
heatmap.2(data.matrix(apply(ccc, 2, function(x) x/sum(x))),
Rowv=FALSE,
Colv=FALSE,
labRow = rownames(ccc),
labCol = colnames(ccc),
dendrogram="none",
col=cols.gentleman(500), cexRow=1, cexCol=1,
trace='none', scale="none", keysize=1,
lmat=rbind(c(4,3,0),c(2,1,0), c(0,0,0)),
lwid=c(0.1,2,0.5),lhei=c(0.1,2,0.4)
)
ccc
heatmap.2(data.matrix(apply(ccc, 2, function(x) x/sum(x))),
Rowv=FALSE,
Colv=FALSE,
labRow = rownames(ccc),
labCol = colnames(ccc),
dendrogram="none",
col=cols.gentleman(500), cexRow=1, cexCol=1,
trace='none', scale="none", keysize=1,
lmat=rbind(c(4,3,0),c(2,1,0), c(0,0,0)),
lwid=c(0.1,2,0.5),lhei=c(0.1,2,0.4)
)
dev.off()
dev.off()
heatmap.2(data.matrix(apply(ccc, 2, function(x) x/sum(x))),
Rowv=FALSE,
Colv=FALSE,
labRow = rownames(ccc),
labCol = colnames(ccc),
dendrogram="none",
col=cols.gentleman(500), cexRow=1, cexCol=1,
trace='none', scale="none", keysize=1,
lmat=rbind(c(4,3,0),c(2,1,0), c(0,0,0)),
lwid=c(0.1,2,0.5),lhei=c(0.1,2,0.4)
)
heatmap.2(data.matrix(apply(ccc, 2, function(x) x/sum(x))),
margins=c(10,10),
Rowv=FALSE,
Colv=FALSE,
labRow = rownames(ccc),
labCol = colnames(ccc),
dendrogram="none",
col=cols.gentleman(500), cexRow=1, cexCol=1,
trace='none', scale="none", keysize=1,
lmat=rbind(c(4,3,0),c(2,1,0), c(0,0,0)),
lwid=c(0.1,2,0.5),lhei=c(0.1,2,0.4)
)
dev.off()
heatmap.2(data.matrix(apply(ccc, 2, function(x) x/sum(x))),
margins=c(100,100),
Rowv=FALSE,
Colv=FALSE,
labRow = rownames(ccc),
labCol = colnames(ccc),
dendrogram="none",
col=cols.gentleman(500), cexRow=1, cexCol=1,
trace='none', scale="none", keysize=1,
lmat=rbind(c(4,3,0),c(2,1,0), c(0,0,0)),
lwid=c(0.1,2,0.5),lhei=c(0.1,2,0.4)
)
heatmap.2(data.matrix(apply(ccc, 2, function(x) x/sum(x))),
margins=c(10,10),
Rowv=FALSE,
Colv=FALSE,
labRow = rownames(ccc),
labCol = colnames(ccc),
dendrogram="none",
col=cols.gentleman(500), cexRow=1, cexCol=1,
trace='none', scale="none", keysize=1,
lmat=rbind(c(4,3,0),c(2,1,0), c(0,0,0)),
lwid=c(0.1,2,0.5),lhei=c(0.1,2,0.4)
)
dev.off()
heatmap.2(data.matrix(apply(ccc, 2, function(x) x/sum(x))),
margins=c(50,50),
Rowv=FALSE,
Colv=FALSE,
labRow = rownames(ccc),
labCol = colnames(ccc),
dendrogram="none",
col=cols.gentleman(500), cexRow=1, cexCol=1,
trace='none', scale="none", keysize=1,
lmat=rbind(c(4,3,0),c(2,1,0), c(0,0,0)),
lwid=c(0.1,2,0.5),lhei=c(0.1,2,0.4)
)
dev.off()
heatmap.2(data.matrix(apply(ccc, 2, function(x) x/sum(x))),
margins=c(20,20),
Rowv=FALSE,
Colv=FALSE,
labRow = rownames(ccc),
labCol = colnames(ccc),
dendrogram="none",
col=cols.gentleman(500), cexRow=1, cexCol=1,
trace='none', scale="none", keysize=1,
lmat=rbind(c(4,3,0),c(2,1,0), c(0,0,0)),
lwid=c(0.1,2,0.5),lhei=c(0.1,2,0.4)
)
heatmap.2(data.matrix(apply(ccc, 2, function(x) x/sum(x))),
margins=c(15,15),
Rowv=FALSE,
Colv=FALSE,
labRow = rownames(ccc),
labCol = colnames(ccc),
dendrogram="none",
col=cols.gentleman(500), cexRow=1, cexCol=1,
trace='none', scale="none", keysize=1,
lmat=rbind(c(4,3,0),c(2,1,0), c(0,0,0)),
lwid=c(0.1,2,0.5),lhei=c(0.1,2,0.4)
)
